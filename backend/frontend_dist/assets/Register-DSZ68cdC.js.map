{"version":3,"file":"Register-DSZ68cdC.js","sources":["../../src/pages/Register.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { MapPin, Eye, EyeOff } from 'lucide-react';\nimport LoadingSpinner from '../components/LoadingSpinner';\n\nexport default function Register() {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  const { user, register } = useAuth();\n\n  // Redirect if already logged in\n  if (user) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n\n  const validateForm = () => {\n    const newErrors: Record<string, string> = {};\n\n    if (!formData.name.trim()) {\n      newErrors.name = 'Name is required';\n    }\n\n    if (!formData.email.trim()) {\n      newErrors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'Email is invalid';\n    }\n\n    if (!formData.password) {\n      newErrors.password = 'Password is required';\n    } else if (formData.password.length < 6) {\n      newErrors.password = 'Password must be at least 6 characters';\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = 'Passwords do not match';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      await register(formData.email, formData.password, formData.name);\n    } catch (error) {\n      // Error is handled in AuthContext\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: '' }));\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4\">\n      <div className=\"max-w-md w-full\">\n        {/* Logo and title */}\n        <div className=\"text-center mb-8\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4\">\n            <MapPin className=\"w-8 h-8 text-white\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Create Account</h1>\n          <p className=\"text-gray-600\">Start tracking your devices today</p>\n        </div>\n\n        {/* Register form */}\n        <div className=\"card\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"name\" className=\"label\">\n                Full Name\n              </label>\n              <input\n                id=\"name\"\n                name=\"name\"\n                type=\"text\"\n                value={formData.name}\n                onChange={handleChange}\n                className={`input ${errors.name ? 'border-error-500 focus:border-error-500 focus:ring-error-500' : ''}`}\n                placeholder=\"Enter your full name\"\n                required\n              />\n              {errors.name && (\n                <p className=\"mt-1 text-sm text-error-600\">{errors.name}</p>\n              )}\n            </div>\n\n            <div>\n              <label htmlFor=\"email\" className=\"label\">\n                Email Address\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                className={`input ${errors.email ? 'border-error-500 focus:border-error-500 focus:ring-error-500' : ''}`}\n                placeholder=\"Enter your email\"\n                required\n              />\n              {errors.email && (\n                <p className=\"mt-1 text-sm text-error-600\">{errors.email}</p>\n              )}\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"label\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  value={formData.password}\n                  onChange={handleChange}\n                  className={`input pr-10 ${errors.password ? 'border-error-500 focus:border-error-500 focus:ring-error-500' : ''}`}\n                  placeholder=\"Create a password\"\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                >\n                  {showPassword ? (\n                    <EyeOff className=\"w-4 h-4 text-gray-400\" />\n                  ) : (\n                    <Eye className=\"w-4 h-4 text-gray-400\" />\n                  )}\n                </button>\n              </div>\n              {errors.password && (\n                <p className=\"mt-1 text-sm text-error-600\">{errors.password}</p>\n              )}\n            </div>\n\n            <div>\n              <label htmlFor=\"confirmPassword\" className=\"label\">\n                Confirm Password\n              </label>\n              <input\n                id=\"confirmPassword\"\n                name=\"confirmPassword\"\n                type=\"password\"\n                value={formData.confirmPassword}\n                onChange={handleChange}\n                className={`input ${errors.confirmPassword ? 'border-error-500 focus:border-error-500 focus:ring-error-500' : ''}`}\n                placeholder=\"Confirm your password\"\n                required\n              />\n              {errors.confirmPassword && (\n                <p className=\"mt-1 text-sm text-error-600\">{errors.confirmPassword}</p>\n              )}\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"btn-primary w-full\"\n            >\n              {loading ? (\n                <LoadingSpinner size=\"sm\" />\n              ) : (\n                'Create Account'\n              )}\n            </button>\n          </form>\n\n          {/* Login link */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-gray-600\">\n              Already have an account?{' '}\n              <Link\n                to=\"/login\"\n                className=\"font-medium text-primary-600 hover:text-primary-500\"\n              >\n                Sign in\n              </Link>\n            </p>\n          </div>\n        </div>\n\n        {/* Features */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-600 mb-4\">What you get with your free account:</p>\n          <div className=\"grid grid-cols-1 gap-2 text-sm text-gray-700\">\n            <div className=\"flex items-center justify-center space-x-2\">\n              <div className=\"w-2 h-2 bg-success-500 rounded-full\"></div>\n              <span>1 device for 30 days</span>\n            </div>\n            <div className=\"flex items-center justify-center space-x-2\">\n              <div className=\"w-2 h-2 bg-success-500 rounded-full\"></div>\n              <span>Real-time GPS tracking</span>\n            </div>\n            <div className=\"flex items-center justify-center space-x-2\">\n              <div className=\"w-2 h-2 bg-success-500 rounded-full\"></div>\n              <span>Interactive maps</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["Register","formData","setFormData","useState","showPassword","setShowPassword","loading","setLoading","errors","setErrors","user","register","useAuth","jsx","Navigate","validateForm","newErrors","handleSubmit","e","handleChange","name","value","prev","jsxs","MapPin","EyeOff","Eye","LoadingSpinner","Link"],"mappings":"+HAMA,SAAwBA,GAAW,CACjC,KAAM,CAACC,EAAUC,CAAW,EAAIC,WAAS,CACvC,KAAM,GACN,MAAO,GACP,SAAU,GACV,gBAAiB,EAAA,CAClB,EACK,CAACC,EAAcC,CAAe,EAAIF,EAAAA,SAAS,EAAK,EAChD,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAK,EACtC,CAACK,EAAQC,CAAS,EAAIN,EAAAA,SAAiC,CAAA,CAAE,EAEzD,CAAE,KAAAO,EAAM,SAAAC,CAAA,EAAaC,EAAA,EAG3B,GAAIF,EACF,OAAOG,EAAAA,IAACC,EAAA,CAAS,GAAG,aAAa,QAAO,GAAC,EAG3C,MAAMC,EAAe,IAAM,CACzB,MAAMC,EAAoC,CAAA,EAE1C,OAAKf,EAAS,KAAK,SACjBe,EAAU,KAAO,oBAGdf,EAAS,MAAM,OAER,eAAe,KAAKA,EAAS,KAAK,IAC5Ce,EAAU,MAAQ,oBAFlBA,EAAU,MAAQ,oBAKff,EAAS,SAEHA,EAAS,SAAS,OAAS,IACpCe,EAAU,SAAW,0CAFrBA,EAAU,SAAW,uBAKnBf,EAAS,WAAaA,EAAS,kBACjCe,EAAU,gBAAkB,0BAG9BP,EAAUO,CAAS,EACZ,OAAO,KAAKA,CAAS,EAAE,SAAW,CAC3C,EAEMC,EAAe,MAAOC,GAAuB,CAGjD,GAFAA,EAAE,eAAA,EAEE,EAACH,IAIL,CAAAR,EAAW,EAAI,EAEf,GAAI,CACF,MAAMI,EAASV,EAAS,MAAOA,EAAS,SAAUA,EAAS,IAAI,CACjE,MAAgB,CAEhB,QAAA,CACEM,EAAW,EAAK,CAClB,EACF,EAEMY,EAAgBD,GAA2C,CAC/D,KAAM,CAAE,KAAAE,EAAM,MAAAC,CAAA,EAAUH,EAAE,OAC1BhB,EAAYoB,IAAS,CAAE,GAAGA,EAAM,CAACF,CAAI,EAAGC,GAAQ,EAG5Cb,EAAOY,CAAI,GACbX,EAAUa,IAAS,CAAE,GAAGA,EAAM,CAACF,CAAI,EAAG,IAAK,CAE/C,EAEA,aACG,MAAA,CAAI,UAAU,qGACb,SAAAG,EAAAA,KAAC,MAAA,CAAI,UAAU,kBAEb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAV,EAAAA,IAAC,OAAI,UAAU,oFACb,eAACW,EAAA,CAAO,UAAU,qBAAqB,CAAA,CACzC,EACAX,EAAAA,IAAC,KAAA,CAAG,UAAU,wCAAwC,SAAA,iBAAc,EACpEA,EAAAA,IAAC,IAAA,CAAE,UAAU,gBAAgB,SAAA,mCAAA,CAAiC,CAAA,EAChE,EAGAU,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,SAAUN,EAAc,UAAU,YACtC,SAAA,CAAAM,OAAC,MAAA,CACC,SAAA,CAAAV,MAAC,QAAA,CAAM,QAAQ,OAAO,UAAU,QAAQ,SAAA,YAExC,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,OACH,KAAK,OACL,KAAK,OACL,MAAOZ,EAAS,KAChB,SAAUkB,EACV,UAAW,SAASX,EAAO,KAAO,+DAAiE,EAAE,GACrG,YAAY,uBACZ,SAAQ,EAAA,CAAA,EAETA,EAAO,MACNK,EAAAA,IAAC,KAAE,UAAU,8BAA+B,WAAO,IAAA,CAAK,CAAA,EAE5D,SAEC,MAAA,CACC,SAAA,CAAAA,MAAC,QAAA,CAAM,QAAQ,QAAQ,UAAU,QAAQ,SAAA,gBAEzC,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,QACH,KAAK,QACL,KAAK,QACL,MAAOZ,EAAS,MAChB,SAAUkB,EACV,UAAW,SAASX,EAAO,MAAQ,+DAAiE,EAAE,GACtG,YAAY,mBACZ,SAAQ,EAAA,CAAA,EAETA,EAAO,OACNK,EAAAA,IAAC,KAAE,UAAU,8BAA+B,WAAO,KAAA,CAAM,CAAA,EAE7D,SAEC,MAAA,CACC,SAAA,CAAAA,MAAC,QAAA,CAAM,QAAQ,WAAW,UAAU,QAAQ,SAAA,WAE5C,EACAU,EAAAA,KAAC,MAAA,CAAI,UAAU,WACb,SAAA,CAAAV,EAAAA,IAAC,QAAA,CACC,GAAG,WACH,KAAK,WACL,KAAMT,EAAe,OAAS,WAC9B,MAAOH,EAAS,SAChB,SAAUkB,EACV,UAAW,eAAeX,EAAO,SAAW,+DAAiE,EAAE,GAC/G,YAAY,oBACZ,SAAQ,EAAA,CAAA,EAEVK,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMR,EAAgB,CAACD,CAAY,EAC5C,UAAU,oDAET,SAAAA,QACEqB,EAAA,CAAO,UAAU,wBAAwB,EAE1CZ,EAAAA,IAACa,EAAA,CAAI,UAAU,uBAAA,CAAwB,CAAA,CAAA,CAE3C,EACF,EACClB,EAAO,UACNK,EAAAA,IAAC,KAAE,UAAU,8BAA+B,WAAO,QAAA,CAAS,CAAA,EAEhE,SAEC,MAAA,CACC,SAAA,CAAAA,MAAC,QAAA,CAAM,QAAQ,kBAAkB,UAAU,QAAQ,SAAA,mBAEnD,EACAA,EAAAA,IAAC,QAAA,CACC,GAAG,kBACH,KAAK,kBACL,KAAK,WACL,MAAOZ,EAAS,gBAChB,SAAUkB,EACV,UAAW,SAASX,EAAO,gBAAkB,+DAAiE,EAAE,GAChH,YAAY,wBACZ,SAAQ,EAAA,CAAA,EAETA,EAAO,iBACNK,EAAAA,IAAC,KAAE,UAAU,8BAA+B,WAAO,eAAA,CAAgB,CAAA,EAEvE,EAEAA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAUP,EACV,UAAU,qBAET,SAAAA,EACCO,MAACc,EAAA,CAAe,KAAK,KAAK,EAE1B,gBAAA,CAAA,CAEJ,EACF,QAGC,MAAA,CAAI,UAAU,mBACb,SAAAJ,EAAAA,KAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,CAAA,2BACV,IACzBV,EAAAA,IAACe,EAAA,CACC,GAAG,SACH,UAAU,sDACX,SAAA,SAAA,CAAA,CAED,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGAL,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAV,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,uCAAoC,EAC9EU,EAAAA,KAAC,MAAA,CAAI,UAAU,+CACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACb,SAAA,CAAAV,EAAAA,IAAC,MAAA,CAAI,UAAU,qCAAA,CAAsC,EACrDA,EAAAA,IAAC,QAAK,SAAA,sBAAA,CAAoB,CAAA,EAC5B,EACAU,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACb,SAAA,CAAAV,EAAAA,IAAC,MAAA,CAAI,UAAU,qCAAA,CAAsC,EACrDA,EAAAA,IAAC,QAAK,SAAA,wBAAA,CAAsB,CAAA,EAC9B,EACAU,EAAAA,KAAC,MAAA,CAAI,UAAU,6CACb,SAAA,CAAAV,EAAAA,IAAC,MAAA,CAAI,UAAU,qCAAA,CAAsC,EACrDA,EAAAA,IAAC,QAAK,SAAA,kBAAA,CAAgB,CAAA,CAAA,CACxB,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}