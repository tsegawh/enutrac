{"version":3,"file":"ForgotPassword-8YaARHeJ.js","sources":["../../src/pages/ForgotPassword.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { MapPin, Mail, ArrowLeft, CheckCircle } from 'lucide-react';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nexport default function ForgotPassword() {\r\n  const [email, setEmail] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [emailSent, setEmailSent] = useState(false);\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n\r\n  const validateForm = () => {\r\n    const newErrors: Record<string, string> = {};\r\n\r\n    if (!email.trim()) {\r\n      newErrors.email = 'Email is required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(email)) {\r\n      newErrors.email = 'Email is invalid';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      await axios.post('/auth/forgot-password', { email });\r\n      setEmailSent(true);\r\n      toast.success('Password reset instructions sent to your email');\r\n    } catch (error: any) {\r\n      const message = error.response?.data?.error || 'Failed to send reset email';\r\n      toast.error(message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setEmail(e.target.value);\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors.email) {\r\n      setErrors(prev => ({ ...prev, email: '' }));\r\n    }\r\n  };\r\n\r\n  if (emailSent) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4\">\r\n        <div className=\"max-w-md w-full\">\r\n          <div className=\"card text-center\">\r\n            {/* Success Icon */}\r\n            <div className=\"inline-flex items-center justify-center w-16 h-16 bg-success-100 rounded-full mb-6\">\r\n              <CheckCircle className=\"w-8 h-8 text-success-600\" />\r\n            </div>\r\n\r\n            {/* Title */}\r\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Check Your Email</h1>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              We've sent password reset instructions to <strong>{email}</strong>\r\n            </p>\r\n\r\n            {/* Instructions */}\r\n            <div className=\"bg-primary-50 border border-primary-200 rounded-lg p-4 mb-6\">\r\n              <h3 className=\"text-sm font-medium text-primary-900 mb-2\">Next Steps:</h3>\r\n              <ol className=\"text-sm text-primary-800 space-y-1 list-decimal list-inside text-left\">\r\n                <li>Check your email inbox (and spam folder)</li>\r\n                <li>Click the reset link in the email</li>\r\n                <li>Create a new password</li>\r\n                <li>Sign in with your new password</li>\r\n              </ol>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"space-y-3\">\r\n              <button\r\n                onClick={() => {\r\n                  setEmailSent(false);\r\n                  setEmail('');\r\n                }}\r\n                className=\"btn-secondary w-full\"\r\n              >\r\n                Try Different Email\r\n              </button>\r\n              \r\n              <Link\r\n                to=\"/login\"\r\n                className=\"btn-primary w-full\"\r\n              >\r\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                Back to Login\r\n              </Link>\r\n            </div>\r\n\r\n            {/* Help */}\r\n            <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                Didn't receive the email? Check your spam folder or{' '}\r\n                <button\r\n                  onClick={() => {\r\n                    setEmailSent(false);\r\n                    setEmail('');\r\n                  }}\r\n                  className=\"text-primary-600 hover:text-primary-500 font-medium\"\r\n                >\r\n                  try again\r\n                </button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4\">\r\n      <div className=\"max-w-md w-full\">\r\n        {/* Logo and title */}\r\n        <div className=\"text-center mb-8\">\r\n          <div className=\"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4\">\r\n            <MapPin className=\"w-8 h-8 text-white\" />\r\n          </div>\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Forgot Password?</h1>\r\n          <p className=\"text-gray-600\">Enter your email to reset your password</p>\r\n        </div>\r\n\r\n        {/* Reset form */}\r\n        <div className=\"card\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"label\">\r\n                Email Address\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={handleChange}\r\n                  className={`input pl-10 ${errors.email ? 'border-error-500 focus:border-error-500 focus:ring-error-500' : ''}`}\r\n                  placeholder=\"Enter your email address\"\r\n                  required\r\n                />\r\n                <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n              </div>\r\n              {errors.email && (\r\n                <p className=\"mt-1 text-sm text-error-600\">{errors.email}</p>\r\n              )}\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"btn-primary w-full\"\r\n            >\r\n              {loading ? (\r\n                <LoadingSpinner size=\"sm\" />\r\n              ) : (\r\n                'Send Reset Instructions'\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Back to login */}\r\n          <div className=\"mt-6 text-center\">\r\n            <Link\r\n              to=\"/login\"\r\n              className=\"inline-flex items-center text-sm text-primary-600 hover:text-primary-500 font-medium\"\r\n            >\r\n              <ArrowLeft className=\"w-4 h-4 mr-1\" />\r\n              Back to Login\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Help */}\r\n        <div className=\"mt-8 text-center\">\r\n          <p className=\"text-sm text-gray-600\">\r\n            Remember your password?{' '}\r\n            <Link\r\n              to=\"/login\"\r\n              className=\"font-medium text-primary-600 hover:text-primary-500\"\r\n            >\r\n              Sign in\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["ForgotPassword","email","setEmail","useState","loading","setLoading","emailSent","setEmailSent","errors","setErrors","validateForm","newErrors","handleSubmit","e","axios","toast","error","message","_b","_a","handleChange","prev","jsx","jsxs","CheckCircle","Link","ArrowLeft","MapPin","Mail","LoadingSpinner"],"mappings":"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"}