import{r as a,b as g,z as y,j as e,C as u}from"./index-Dza2ow_d.js";import{A as f}from"./alert-triangle-LZLSNzFN.js";function w(){const[n,c]=a.useState([]),[l,r]=a.useState(!0),[s,x]=a.useState("ALL");a.useEffect(()=>{d()},[s]);const d=async()=>{try{r(!0);const t=await g.get("/admin/subscriptions",{params:{status:s!=="ALL"?s:void 0}});c(t.data.subscriptions)}catch(t){console.error("Error fetching subscriptions:",t),y.error("Failed to load subscriptions")}finally{r(!1)}},m=t=>{switch(t){case"ACTIVE":return"bg-green-100 text-green-800";case"EXPIRED":return"bg-red-100 text-red-800";case"CANCELLED":return"bg-gray-100 text-gray-800";default:return"bg-yellow-100 text-yellow-800"}},o=t=>{const p=new Date(t),h=new Date,i=Math.ceil((p.getTime()-h.getTime())/(1e3*60*60*24));return i<=7&&i>0};return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"loading-spinner w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Subscription Management"}),e.jsx("p",{className:"text-gray-600",children:"Monitor and manage user subscriptions"})]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"flex space-x-4",children:["ALL","ACTIVE","EXPIRED","CANCELLED"].map(t=>e.jsx("button",{onClick:()=>x(t),className:`px-4 py-2 rounded-lg text-sm font-medium ${s===t?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50"}`,children:t},t))})}),e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plan"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Warning"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(u,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.user.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.user.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.planId})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(t.status)}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.startDate).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.endDate).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o(t.endDate)&&e.jsxs("div",{className:"flex items-center text-warning-600",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-xs",children:"Expires soon"})]})})]},t.id))})]})})})]})}export{w as default};
//# sourceMappingURL=AdminSubscriptions-BrlwuH2p.js.map
