import{i as S,a as C,r as o,z as d,j as s,L as p,M as E,e as k,b as L}from"./index-BkP6pifi.js";import{C as F}from"./check-circle-BFcqtcYF.js";import{E as R,a as q}from"./eye-Dxc1-3ex.js";import{L as z}from"./lock-CunyfNhE.js";function Y(){const[f]=S(),m=C(),c=f.get("token"),[r,j]=o.useState({password:"",confirmPassword:""}),[l,b]=o.useState(!1),[x,u]=o.useState(!1),[g,y]=o.useState(!1),[a,w]=o.useState({});o.useEffect(()=>{c||(d.error("Invalid reset link"),m("/login"))},[c,m]);const N=()=>{const e={};return r.password?r.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"),w(e),Object.keys(e).length===0},P=async e=>{var t,i;if(e.preventDefault(),!!N()){u(!0);try{await L.post("/auth/reset-password",{token:c,password:r.password}),y(!0),d.success("Password reset successfully")}catch(n){const v=((i=(t=n.response)==null?void 0:t.data)==null?void 0:i.error)||"Failed to reset password";d.error(v)}finally{u(!1)}}},h=e=>{const{name:t,value:i}=e.target;j(n=>({...n,[t]:i})),a[t]&&w(n=>({...n,[t]:""}))};return g?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-success-50 to-success-100 flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-success-100 rounded-full mb-6",children:s.jsx(F,{className:"w-8 h-8 text-success-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Password Reset Complete"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been successfully reset. You can now sign in with your new password."}),s.jsx(p,{to:"/login",className:"btn-primary w-full",children:"Sign In"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4",children:s.jsx(E,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-gray-600",children:"Enter your new password"})]}),s.jsxs("div",{className:"card",children:[s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"label",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"password",name:"password",type:l?"text":"password",value:r.password,onChange:h,className:`input pr-10 ${a.password?"border-error-500 focus:border-error-500 focus:ring-error-500":""}`,placeholder:"Enter new password",required:!0}),s.jsx("button",{type:"button",onClick:()=>b(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?s.jsx(R,{className:"w-4 h-4 text-gray-400"}):s.jsx(q,{className:"w-4 h-4 text-gray-400"})})]}),a.password&&s.jsx("p",{className:"mt-1 text-sm text-error-600",children:a.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"label",children:"Confirm New Password"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:h,className:`input ${a.confirmPassword?"border-error-500 focus:border-error-500 focus:ring-error-500":""}`,placeholder:"Confirm new password",required:!0}),a.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-error-600",children:a.confirmPassword})]}),s.jsxs("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-primary-900 mb-2",children:"Password Requirements:"}),s.jsxs("ul",{className:"text-sm text-primary-800 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"At least 6 characters long"}),s.jsx("li",{children:"Should be unique and not used elsewhere"}),s.jsx("li",{children:"Consider using a mix of letters, numbers, and symbols"})]})]}),s.jsx("button",{type:"submit",disabled:x,className:"btn-primary w-full",children:x?s.jsx(k,{size:"sm"}):s.jsxs(s.Fragment,{children:[s.jsx(z,{className:"w-4 h-4 mr-2"}),"Reset Password"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(p,{to:"/login",className:"text-sm text-primary-600 hover:text-primary-500 font-medium",children:"Back to Login"})})]})]})})}export{Y as default};
//# sourceMappingURL=ResetPassword-CUqbH5x3.js.map
